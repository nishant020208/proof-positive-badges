@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&family=Orbitron:wght@500;600;700;800;900&display=swap');

/* Leaflet CSS */
@import 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';

@layer base {
  :root {
    /* VARDANT Dark Futuristic Theme */
    --background: 222 47% 7%;
    --foreground: 210 20% 90%;

    --card: 222 40% 10%;
    --card-foreground: 210 20% 90%;

    --popover: 222 40% 10%;
    --popover-foreground: 210 20% 90%;

    /* Neon green primary */
    --primary: 142 71% 45%;
    --primary-foreground: 222 47% 7%;

    /* Dark blue-gray secondary */
    --secondary: 215 25% 16%;
    --secondary-foreground: 210 20% 85%;

    --muted: 222 20% 15%;
    --muted-foreground: 215 15% 55%;

    /* Cyan accent */
    --accent: 183 100% 50%;
    --accent-foreground: 222 47% 7%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 222 15% 18%;
    --input: 222 15% 18%;
    --ring: 142 71% 45%;

    --radius: 1rem;

    /* Badge level colors */
    --badge-bronze: 30 70% 48%;
    --badge-silver: 220 8% 72%;
    --badge-gold: 45 100% 50%;
    --badge-none: 215 10% 40%;

    /* Success / Warning */
    --success: 142 75% 42%;
    --success-foreground: 0 0% 100%;
    --warning: 38 95% 50%;
    --warning-foreground: 0 0% 100%;

    /* VARDANT Neon Gradients */
    --gradient-eco: linear-gradient(135deg, hsl(142, 71%, 45%) 0%, hsl(160, 80%, 40%) 50%, hsl(183, 100%, 50%) 100%);
    --gradient-gold: linear-gradient(135deg, hsl(45, 100%, 50%) 0%, hsl(38, 95%, 55%) 50%, hsl(42, 100%, 48%) 100%);
    --gradient-silver: linear-gradient(135deg, hsl(220, 8%, 82%) 0%, hsl(220, 8%, 72%) 50%, hsl(220, 8%, 78%) 100%);
    --gradient-bronze: linear-gradient(135deg, hsl(30, 70%, 52%) 0%, hsl(25, 60%, 45%) 50%, hsl(28, 65%, 48%) 100%);
    --gradient-cyan: linear-gradient(135deg, hsl(183, 100%, 50%) 0%, hsl(195, 100%, 50%) 50%, hsl(210, 100%, 60%) 100%);
    --gradient-dark: linear-gradient(135deg, hsl(222, 47%, 11%) 0%, hsl(230, 40%, 6%) 100%);

    /* Neon Shadows */
    --shadow-card: 0 4px 24px -6px hsla(0, 0%, 0%, 0.4), 0 0 1px hsla(142, 71%, 45%, 0.1);
    --shadow-badge: 0 4px 16px -4px hsla(0, 0%, 0%, 0.5), 0 0 12px hsla(142, 71%, 45%, 0.15);
    --shadow-glow-gold: 0 0 30px hsla(45, 100%, 50%, 0.4), 0 0 60px hsla(45, 100%, 50%, 0.15);
    --shadow-glow-eco: 0 0 30px hsla(142, 71%, 45%, 0.35), 0 0 60px hsla(142, 71%, 45%, 0.1);
    --shadow-glow-cyan: 0 0 30px hsla(183, 100%, 50%, 0.3), 0 0 60px hsla(183, 100%, 50%, 0.1);
    --shadow-elevated: 0 20px 40px -12px hsla(0, 0%, 0%, 0.5), 0 0 20px hsla(142, 71%, 45%, 0.05);
    --shadow-neon: 0 0 5px hsla(142, 71%, 45%, 0.5), 0 0 20px hsla(142, 71%, 45%, 0.2), 0 0 40px hsla(142, 71%, 45%, 0.1);

    --sidebar-background: 222 40% 8%;
    --sidebar-foreground: 210 20% 90%;
    --sidebar-primary: 142 71% 45%;
    --sidebar-primary-foreground: 222 47% 7%;
    --sidebar-accent: 222 20% 15%;
    --sidebar-accent-foreground: 210 20% 90%;
    --sidebar-border: 222 15% 18%;
    --sidebar-ring: 142 71% 45%;
  }

  .dark {
    /* Same as root - app is dark by default */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Plus Jakarta Sans', sans-serif;
    background: linear-gradient(180deg, hsl(222, 47%, 7%) 0%, hsl(230, 40%, 4%) 100%);
    min-height: 100vh;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Space Grotesk', sans-serif;
  }

  .font-vardant {
    font-family: 'Orbitron', sans-serif;
  }
}

@layer components {
  /* Animated gradient background */
  .vardant-bg {
    position: relative;
    overflow: hidden;
  }

  .vardant-bg::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(ellipse at 20% 50%, hsla(142, 71%, 45%, 0.06) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, hsla(183, 100%, 50%, 0.04) 0%, transparent 50%),
      radial-gradient(ellipse at 50% 80%, hsla(265, 80%, 50%, 0.03) 0%, transparent 50%),
      linear-gradient(180deg, hsl(222, 47%, 7%) 0%, hsl(230, 40%, 4%) 100%);
    z-index: -1;
    pointer-events: none;
  }

  /* Glass morphism - futuristic */
  .glass-morphism {
    @apply backdrop-blur-xl border-b;
    background: hsla(222, 40%, 10%, 0.7);
    border-color: hsla(142, 71%, 45%, 0.1);
  }

  /* Glass card */
  .glass-card {
    @apply backdrop-blur-sm border rounded-2xl;
    background: hsla(222, 40%, 10%, 0.6);
    border-color: hsla(210, 20%, 90%, 0.06);
    box-shadow: var(--shadow-card);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-card:hover {
    border-color: hsla(142, 71%, 45%, 0.2);
    box-shadow: var(--shadow-elevated);
    transform: translateY(-4px);
  }

  /* Stat card - neon accented */
  .stat-card {
    @apply p-4 rounded-xl border;
    background: hsla(222, 40%, 10%, 0.5);
    border-color: hsla(210, 20%, 90%, 0.06);
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    border-color: hsla(142, 71%, 45%, 0.3);
    box-shadow: 0 0 20px hsla(142, 71%, 45%, 0.1);
    transform: scale(1.03);
  }

  /* Gradient text */
  .gradient-text {
    background: var(--gradient-eco);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-cyan {
    background: var(--gradient-cyan);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Badge shine animation */
  .badge-shine {
    position: relative;
    overflow: hidden;
  }

  .badge-shine::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      45deg,
      transparent 25%,
      rgba(255, 255, 255, 0.15) 50%,
      transparent 75%
    );
    transform: translateX(-100%) rotate(45deg);
    animation: shine 4s infinite;
  }

  @keyframes shine {
    0%, 100% { transform: translateX(-100%) rotate(45deg); }
    50% { transform: translateX(100%) rotate(45deg); }
  }

  /* Progress bar */
  .progress-fill {
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Score ring */
  .score-ring {
    stroke-dasharray: 283;
    stroke-dashoffset: 283;
    animation: score-fill 1.5s ease-out forwards;
  }

  @keyframes score-fill {
    to { stroke-dashoffset: var(--score-offset, 0); }
  }

  /* Card hover */
  .card-hover {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-hover:hover {
    transform: translateY(-6px);
    box-shadow: var(--shadow-elevated);
  }

  /* Gradient backgrounds */
  .eco-gradient {
    background: var(--gradient-eco);
  }

  .gold-gradient {
    background: var(--gradient-gold);
  }

  .silver-gradient {
    background: var(--gradient-silver);
  }

  .bronze-gradient {
    background: var(--gradient-bronze);
  }

  .cyan-gradient {
    background: var(--gradient-cyan);
  }

  /* Glow effects */
  .glow-eco {
    box-shadow: var(--shadow-glow-eco);
  }

  .glow-gold {
    box-shadow: var(--shadow-glow-gold);
  }

  .glow-cyan {
    box-shadow: var(--shadow-glow-cyan);
  }

  .glow-neon {
    box-shadow: var(--shadow-neon);
  }

  /* Neon border glow animation */
  @keyframes neon-pulse {
    0%, 100% { border-color: hsla(142, 71%, 45%, 0.2); box-shadow: 0 0 10px hsla(142, 71%, 45%, 0.1); }
    50% { border-color: hsla(142, 71%, 45%, 0.5); box-shadow: 0 0 25px hsla(142, 71%, 45%, 0.2); }
  }

  .neon-border-animate {
    animation: neon-pulse 3s ease-in-out infinite;
  }

  /* Floating particles */
  @keyframes float-up {
    0% { transform: translateY(100vh) scale(0); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-10vh) scale(1); opacity: 0; }
  }

  .particle {
    position: fixed;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: hsla(142, 71%, 45%, 0.3);
    pointer-events: none;
    z-index: 0;
    animation: float-up 12s linear infinite;
  }

  .particle:nth-child(2) { left: 20%; animation-delay: 2s; animation-duration: 15s; background: hsla(183, 100%, 50%, 0.2); }
  .particle:nth-child(3) { left: 40%; animation-delay: 4s; animation-duration: 10s; }
  .particle:nth-child(4) { left: 60%; animation-delay: 6s; animation-duration: 18s; background: hsla(183, 100%, 50%, 0.15); }
  .particle:nth-child(5) { left: 80%; animation-delay: 8s; animation-duration: 14s; }
  .particle:nth-child(6) { left: 10%; animation-delay: 3s; animation-duration: 16s; background: hsla(45, 100%, 50%, 0.1); }

  /* Animated counters */
  @keyframes count-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-count {
    animation: count-up 0.8s ease-out forwards;
  }

  /* Slide up animation */
  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-slide-up {
    animation: slide-up 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Pulse soft */
  @keyframes pulse-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  .animate-pulse-soft {
    animation: pulse-soft 2s ease-in-out infinite;
  }

  /* Rank badges */
  .badge-level-gold {
    background: var(--gradient-gold);
    color: hsl(222, 47%, 7%);
    box-shadow: 0 2px 12px hsla(45, 100%, 50%, 0.35);
  }

  .badge-level-silver {
    background: var(--gradient-silver);
    color: hsl(222, 47%, 7%);
    box-shadow: 0 2px 12px hsla(220, 8%, 50%, 0.3);
  }

  .badge-level-bronze {
    background: var(--gradient-bronze);
    color: hsl(222, 47%, 7%);
    box-shadow: 0 2px 12px hsla(30, 70%, 40%, 0.3);
  }

  /* Score display */
  .score-display {
    @apply relative font-display font-bold;
    text-shadow: 0 0 10px hsla(142, 71%, 45%, 0.3);
  }

  /* Interactive elements */
  .interactive-element {
    @apply transition-all duration-300 ease-out;
  }

  .interactive-element:hover {
    @apply scale-[1.03];
  }

  .interactive-element:active {
    @apply scale-[0.97];
  }

  /* Verified glow */
  .verified-glow {
    position: relative;
  }

  .verified-glow::before {
    content: '';
    position: absolute;
    inset: -4px;
    background: var(--gradient-eco);
    border-radius: inherit;
    opacity: 0.25;
    filter: blur(10px);
    z-index: -1;
  }

  /* Button ripple */
  .btn-ripple {
    position: relative;
    overflow: hidden;
  }

  .btn-ripple::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at var(--ripple-x, 50%) var(--ripple-y, 50%), 
      hsla(0, 0%, 100%, 0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-ripple:active::after {
    opacity: 1;
  }

  /* Hero glow orbs */
  .hero-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    pointer-events: none;
    animation: orb-float 8s ease-in-out infinite;
  }

  @keyframes orb-float {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(20px, -30px) scale(1.1); }
    66% { transform: translate(-15px, 15px) scale(0.95); }
  }

  /* Leaderboard rank animation */
  @keyframes rank-glow {
    0%, 100% { box-shadow: 0 0 10px hsla(45, 100%, 50%, 0.3); }
    50% { box-shadow: 0 0 25px hsla(45, 100%, 50%, 0.6); }
  }

  .rank-1 {
    animation: rank-glow 2s ease-in-out infinite;
  }

  /* Map custom styles */
  .leaflet-container {
    background: hsl(222, 47%, 7%) !important;
    border-radius: 1rem;
  }

  .leaflet-tile-pane {
    filter: saturate(0.8) brightness(0.7) contrast(1.1);
  }

  .leaflet-control-zoom a {
    background: hsla(222, 40%, 10%, 0.9) !important;
    color: hsl(210, 20%, 90%) !important;
    border-color: hsla(142, 71%, 45%, 0.2) !important;
  }

  .leaflet-control-zoom a:hover {
    background: hsla(222, 40%, 15%, 0.9) !important;
  }

  .leaflet-popup-content-wrapper {
    background: hsla(222, 40%, 10%, 0.95) !important;
    color: hsl(210, 20%, 90%) !important;
    border-radius: 1rem !important;
    border: 1px solid hsla(142, 71%, 45%, 0.2);
    box-shadow: 0 0 20px hsla(0, 0%, 0%, 0.5) !important;
  }

  .leaflet-popup-tip {
    background: hsla(222, 40%, 10%, 0.95) !important;
  }

  .leaflet-popup-close-button {
    color: hsl(210, 20%, 90%) !important;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .scale-hover {
    transition: transform 0.2s ease;
  }

  .scale-hover:hover {
    transform: scale(1.05);
  }
}
